(function(t){function n(n){for(var e,r,o=n[0],c=n[1],l=n[2],g=0,d=[];g<o.length;g++)r=o[g],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);u&&u(n);while(d.length)d.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,n=0;n<i.length;n++){for(var s=i[n],e=!0,o=1;o<s.length;o++){var c=s[o];0!==a[c]&&(e=!1)}e&&(i.splice(n--,1),t=r(r.s=s[0]))}return t}var e={},a={app:0},i=[];function r(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=e,r.d=function(t,n,s){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)r.d(s,e,function(n){return t[n]}.bind(null,e));return s},r.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=n,o=o.slice();for(var l=0;l<o.length;l++)n(o[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,n,s){t.exports=s("56d7")},"0be2":function(t,n,s){},"0c6b":function(t,n,s){"use strict";var e=s("c7c3"),a=s.n(e);a.a},"0e67":function(t,n,s){"use strict";var e=s("eac3"),a=s.n(e);a.a},2179:function(t,n,s){"use strict";var e=s("0be2"),a=s.n(e);a.a},2395:function(t,n,s){},"4b5e":function(t,n,s){"use strict";var e=s("9753"),a=s.n(e);a.a},"4ce2":function(t,n,s){},"56d7":function(t,n,s){"use strict";s.r(n);s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),a=(s("d3b7"),s("bc3a")),i=s.n(a),r=s("2f62");e["a"].use(r["a"]);var o=new r["a"].Store({state:{loading:!1},mutations:{showLoading:function(t){t.loading=!0},hideLoading:function(t){t.loading=!1}}}),c=o,l={baseURL:"https://music.kele8.cn"},u=i.a.create(l);u.interceptors.request.use((function(t){return c.commit("showLoading"),t}),(function(t){return Promise.reject(t)})),u.interceptors.response.use((function(t){return c.commit("hideLoading"),c.state.loading=!1,t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,n){t.axios=u,window.axios=u,Object.defineProperties(t.prototype,{axios:{get:function(){return u}},$axios:{get:function(){return u}}})},e["a"].use(Plugin);Plugin;var g=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{style:{"padding-bottom":null!=t.currentSong?"30px":"0px"},attrs:{id:"app"},on:{touchstart:t.touchstart,touchend:t.touchend}},[s("keep-alive",[s("router-view",{attrs:{currentSong:t.currentSong},on:{"translate-song":function(n){t.currentSong=n},showLoading:function(n){t.showLoading=n}}})],1),t.currentSong?s("PlaySongList",{attrs:{currentSong:t.currentSong},on:{"translate-song":function(n){t.currentSong=n}}}):t._e(),s("loading",{staticClass:"loading",attrs:{showLoading:this.$store.state.loading}})],1)},d=[],h=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"musicPlayList"},[s("div",{staticClass:"musicPlayBottom",on:{click:function(n){n.stopPropagation(),t.showSongDetail=!0}}},[s("div",{staticClass:"cover"},[s("img",{staticClass:"thumb",class:{active:this.playing},attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl}})]),s("div",{staticClass:"song"},[s("h5",[t._v(t._s(t.currentSong.name))]),s("span",[t._v(t._s(t.cngArtist(t.currentSong.ar||t.currentSong.song.artists)))])]),s("div",{staticClass:"status",staticStyle:{width:"30px",height:"30px"},on:{click:function(n){n.stopPropagation(),t.playing=!t.playing}}},[s("canvas",{attrs:{id:"canvas",width:"30",height:"30"}}),t.playing?s("i",{staticClass:"fa fa-pause"}):s("i",{staticClass:"fa fa-play"})]),s("div",{staticClass:"list",on:{click:function(n){n.stopPropagation(),t.showList=!t.showList}}},[s("i",{staticClass:"fa fa-bars"})])]),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.showList?s("ul",{staticClass:"playList"},t._l(t.playList,(function(n,e){return s("li",{key:e},[s("track-songs",{attrs:{currentSong:t.currentSong,trackSongs:n,news:n.news,order:e},on:{"translate-song":function(n){return t.$emit("translate-song",n)}}})],1)})),0):t._e()]),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showSongDetail,expression:"showSongDetail"}],staticClass:"songDetail"},[s("div",{staticClass:"black"}),s("div",{staticClass:"mask",style:{backgroundImage:"url("+(t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl)+")"}}),s("header",[s("div",{staticClass:"back",on:{click:function(n){t.showSongDetail=!1}}},[s("i",{staticClass:"fa fa-angle-left"})]),s("div",{staticClass:"info"},[s("h3",[t._v(t._s(t.currentSong.name))]),s("span",[t._v(t._s(t.cngArtist(t.currentSong.ar||t.currentSong.song.artists)))])]),s("div",{staticClass:"share"},[s("i",{staticClass:"fa fa-share-alt-square"})])]),s("main",{class:{active:t.playing}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCircle,expression:"showCircle"}],staticClass:"glue",on:{click:function(n){t.showCircle=!1}}},[s("div",{staticClass:"needle"}),s("div",{staticClass:"vinyl",on:{click:function(n){t.showAllLyric=!0}}},[s("img",{attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCircle,expression:"!showCircle"}],staticClass:"lyric",on:{click:function(n){t.showCircle=!0}}},[s("ul",{staticClass:"scroll",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.filterLyric,(function(n,e){return s("li",{key:e,class:{active:e===t.currentLyricIndex}},[t._v(" "+t._s(n.text))])})),0)])]),s("footer",[s("div",{staticClass:"tools"},[s("div",{on:{click:function(n){t.loving=!t.loving}}},[s("i",{staticClass:"fa fa-heart",style:{color:t.loving?"red":"white"}})]),s("i",{staticClass:"fa fa-comments",on:{click:function(n){t.showComments="true"}}}),s("i",{staticClass:"fa fa-ellipsis-v"})]),s("div",{staticClass:"progress"},[s("span",[t._v(t._s(t.startTime))]),s("div",{staticClass:"range"},[s("input",{staticClass:"progress-range",attrs:{type:"range",value:"circleWidth",min:"0",step:"0.01",max:"100"},on:{input:function(n){return t.rangeDrag()}}}),s("div",{staticClass:"circle"})]),s("span",[t._v(t._s(t.songDuration))])]),s("div",{staticClass:"status"},[s("i",{staticClass:"fa fa-step-backward",on:{click:function(n){return t.cngSongPlay(t.prevSong)}}}),s("div",{on:{click:function(n){n.stopPropagation(),t.playing=!t.playing}}},[t.playing?s("i",{staticClass:"fa fa-pause"}):s("i",{staticClass:"fa fa-play"})]),s("i",{staticClass:"fa fa-step-forward",on:{click:function(n){return t.cngSongPlay(t.nextSong)}}})])]),s("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[s("SongComments",{directives:[{name:"show",rawName:"v-show",value:t.showComments,expression:"showComments"}],attrs:{comments:t.songComments,currentSong:t.currentSong},on:{showComList:function(n){t.showComments=n}}})],1)],1)]),s("audio",{staticStyle:{height:"0"},attrs:{src:t.currentSongUrl,controls:"",autoplay:""}})],1)},f=[],m=(s("c975"),s("a15b"),s("d81d"),s("45fc"),s("b0c0"),s("a9e3"),s("ac1f"),s("466d"),s("841c"),s("1276"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"trackSongList",on:{click:function(n){return t.$emit("translate-song",t.trackSongs)}}},[t.news?[void 0!==t.order?e("span",{staticClass:"order"},[t._v(t._s(t.cngNum(t.order+1)))]):t._e(),e("div",{staticClass:"main",style:{"margin-left":void 0!==t.order?"0px":"15px"}},[e("h3",[e("span",[t._v(t._s(t.trackSongs.name))]),0!=t.trackSongs.song.alias.length?e("span",{staticClass:"alias"},[t._v("("+t._s(t.trackSongs.song.alias[0])+")")]):t._e()]),e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",[t._v(t._s(t.artistConnect(t.trackSongs.song.artists)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.trackSongs.song.artists.name))])])]),t.currentSong&&t.trackSongs.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:s("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})]:[void 0!==t.order?e("span",{staticClass:"order",class:{active:t.order<3}},[t._v(t._s(t.cngNum(t.order+1)))]):t._e(),e("div",{staticClass:"main"},[e("h3",[e("span",[t._v(t._s(t.trackSongs.name))]),0!=t.trackSongs.alia.length?e("span",{staticClass:"alias"},[t._v("("+t._s(t.trackSongs.alia[0])+")")]):t._e()]),e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",[t._v(t._s(t.artistConnect(t.trackSongs.ar)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.trackSongs.al.name))])])]),t.currentSong&&t.trackSongs.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:s("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})]],2)}),p=[],v={name:"track-songs",props:{order:Number,trackSongs:Object,news:Boolean,currentSong:Object},methods:{artistConnect:function(t){return t.map((function(t){return t.name})).join(" / ")},cngNum:function(t){return t<10?"0"+t:t}}},S=v,w=(s("f13d"),s("2877")),C=Object(w["a"])(S,m,p,!1,null,"059e8890",null),y=C.exports,_=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"comments"},[s("header",[s("i",{staticClass:"fa fa-angle-left",on:{click:function(n){return t.$emit("showComList",!1)}}}),s("h3",[t._v("评论("+t._s(t.comments.total)+")")]),s("img",{attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl,alt:""}})]),s("div",{staticClass:"control"},[s("span",[t._v("按"+t._s(t.showDeff)+"排序")]),s("div",{staticClass:"sort"},[s("span",{on:{click:function(n){t.showSort=!t.showSort}}},[t._v(t._s(t.showDeff)),s("i",{staticClass:"fa fa-caret-down"})]),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.showSort,expression:"showSort"}]},[s("li",{on:{click:function(n){return t.cngList(1)}}},[t._v("最新")]),s("li",{on:{click:function(n){return t.cngList(2)}}},[t._v("热门")])])])]),s("main",[t.showLeast?t._l(t.comments.comments,(function(n,e){return s("ul",{key:e,staticClass:"least"},[s("li",{staticClass:"commentList"},[s("div",{staticClass:"lt"},[s("img",{attrs:{src:n.user.avatarUrl,alt:""}})]),s("div",{staticClass:"rt"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("h3",[t._v(t._s(n.user.nickname))]),s("span",[t._v(t._s(t.cngTime(n.time)))])]),s("div",{staticClass:"right"},[t._v(t._s(n.likedCount)),s("i",{staticClass:"fa fa-thumbs-o-up"})])]),s("div",{staticClass:"main"},[t._v(t._s(n.content))])])])])})):t._l(t.comments.hotComments,(function(n,e){return s("ul",{key:e,staticClass:"hot"},[s("li",{staticClass:"commentList"},[s("div",{staticClass:"lt"},[s("img",{attrs:{src:n.user.avatarUrl,alt:""}})]),s("div",{staticClass:"rt"},[s("div",{staticClass:"header"},[s("div",{staticClass:"left"},[s("h3",[t._v(t._s(n.user.nickname))]),s("span",[t._v(t._s(t.cngTime(n.time)))])]),s("div",{staticClass:"right"},[t._v(t._s(n.likedCount)),s("i",{staticClass:"fa fa-thumbs-o-up"})])]),s("div",{staticClass:"main"},[t._v(t._s(n.content))])])])])}))],2)])},L=[],k={name:"SongComments",props:{comments:Object,currentSong:Object},data:function(){return{showSort:!1,showDeff:"最新",showLeast:!0}},methods:{cngTime:function(t){var n=new Date(t),s=n.getFullYear(),e=n.getMonth()+1,a=n.getDate(),i=n.getHours(),r=n.getMinutes(),o=n.getSeconds();return i=i<10?"0"+i:i,r=r<10?"0"+r:r,o=o<10?"0"+o:o,s+"年"+e+"月"+a+"日"+i+"时"+r+"分"+o},cngList:function(t){this.showDeff=1==t?"最新":"热门",this.showLeast=1==t,this.showSort=!1}}},x=k,b=(s("6f74"),Object(w["a"])(x,_,L,!1,null,"2f13cb2a",null)),T=b.exports,D={name:"PlaySongList",data:function(){return{playing:!0,showList:!1,playList:[],showSongDetail:!1,showLyric:null,loving:!1,startTime:null,songDuration:null,circleWidth:null,showCircle:!0,currentLyricIndex:0,songComments:null,showComments:!1,currentSongIndex:0}},components:{TrackSongs:y,SongComments:T},props:{currentSong:Object},methods:{drowStatus:function(){var t=this,n=this.$el.querySelector("#canvas"),s=this.$el.querySelector("audio"),e=this.currentSong.dt?this.currentSong.dt:this.currentSong.song.duration;s.ontimeupdate=function(){var a=n.getContext("2d");a.clearRect(0,0,30,30),a.beginPath(),a.arc(15,15,13,0,2*Math.PI),a.closePath(),a.strokeStyle="lightgray",a.lineWidth="1",a.stroke(),a.beginPath(),a.arc(15,15,13,-.5*Math.PI,-.5*Math.PI+2*Math.PI*(1e3*s.currentTime/e)),a.strokeStyle="rgba(255,0,0,0.7)",a.lineWidth="1",a.stroke();var i,r=s.currentTime/s.duration*100;t.circleWidth=Math.floor(r)+"%",t.startTime=t.timeCng(s.currentTime),t.$el.querySelector(".range input").value=r,t.$el.querySelector(".range .circle").style.width=r+"%";for(var o=0;o<t.filterLyric.length;o++)if(s.currentTime+.15<t.filterLyric[o].time){i=o-1;break}void 0===i&&(i=t.filterLyric.length-1),t.currentLyricIndex=i}},cngArtist:function(t){return t.map((function(t){return t.name})).join("/")},getLyric:function(){var t=this,n=window.localStorage.getItem("lyric"+this.currentSong.id);n?this.showLyric=n:window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(n){void 0!=n.data.lrc?(t.showLyric=n.data.lrc.lyric,window.localStorage.setItem("lyric"+t.currentSong.id,n.data.lrc.lyric)):t.showList=null}))},getComment:function(){var t=this,n=JSON.parse(window.localStorage.getItem("comments"+this.currentSong.id));n&&n.expire>Date.now()?this.songComments=n.result:window.axios.get("/comment/music",{params:{id:this.currentSong.id}}).then((function(n){t.songComments=n.data,window.localStorage.setItem("comments"+t.currentSong.id,JSON.stringify({expire:Date.now()+36e5,result:n.data}))}))},timeCng:function(t){var n=parseInt(t/60%60),s=parseInt(t%60);return n=n<10?"0"+n:n,s=s<10?"0"+s:s,n+":"+s},rangeDrag:function(){var t=this.$el.querySelector("audio");t.currentTime=this.$el.querySelector(".range input").value*t.duration/100},cngSongPlay:function(t){this.currentSong=this.playList[t],this.$emit("translate-song",this.playList[t])}},computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3")},filterLyric:function(){return null!=this.showLyric?this.showLyric.split("\n").map((function(t){var n=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(n)){var s=t.match(n)[0],e=s.substr(0,2),a=s.substr(3,2),i=s.substr(5);return{time:60*Number(e)+Number(a)+Number(i),text:t.substr(11)||"---------"}}return{}})):"暂时未有歌词"},prevSong:function(){return 0==this.currentSongIndex?this.playList.length-1:this.currentSongIndex-1},nextSong:function(){return this.currentSongIndex==this.playList.length-1?0:this.currentSongIndex+1}},watch:{playing:function(t){var n=this.$el.querySelector("audio");t?n.play():n.pause()},currentSong:function(t){var n=this;this.getLyric(),this.getComment();var s=this.playList.some((function(s){return n.currentSongIndex=n.playList.indexOf(n.currentSong),s.id==t.id}));s||(void 0!=t.song?t.news=!0:t.news=!1,this.playList.push(t),this.currentSongIndex=this.playList.length-1)}},created:function(){this.getLyric(),this.getComment(),void 0!=this.currentSong.song?this.currentSong.news=!0:this.currentSong.news=!1,this.playList.push(this.currentSong),this.songDuration=this.timeCng((this.currentSong.dt?this.currentSong.dt:this.currentSong.song.duration)/1e3)},mounted:function(){var t=this;this.drowStatus();var n=this.$el.querySelector("audio");n.onplay=function(){t.playing=!0},n.onpause=function(){t.playing=!1}}},O=D,j=(s("d1b1"),Object(w["a"])(O,h,f,!1,null,"1aebb0b0",null)),I=j.exports,$=function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.showLoading?e("div",{staticClass:"loading"},[e("img",{attrs:{src:s("803f"),alt:""}})]):t._e()},P=[],N={name:"Loading",props:{showLoading:Boolean}},U=N,M=Object(w["a"])(U,$,P,!1,null,"79d6a810",null),H=M.exports,q={components:{PlaySongList:I,Loading:H},data:function(){return{currentSong:null,touchstartX:0,showSongDetail:!1}},methods:{touchstart:function(t){this.touchstartX=t.changedTouches[0].clientX,this.touchstartY=t.changedTouches[0].clientY},touchend:function(t){t.changedTouches[0].clientX-this.touchstartX>80&&(this.touchstartX=0,this.touchstartY=0,this.routerBack()),t.changedTouches[0].clientX-this.touchstartX<-80&&(this.touchstartX=0,this.touchstartY=0,this.routerForward())},routerBack:function(){this.$router.back()},routerForward:function(){this.$router.forward()}}},E=q,J=(s("7c55"),Object(w["a"])(E,g,d,!1,null,null,null)),W=J.exports,z=s("8c4f"),R=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"home"},[s("HomeLink"),s("div",{staticClass:"personalized"},[s("HomeTitle",[t._v("推荐歌单")]),s("ul",{staticClass:"showPersonalized"},t._l(t.showMusicList(),(function(t,n){return s("MusicList",{key:n,attrs:{songList:t}})})),1)],1),s("ul",{staticClass:"recommend"},[s("HomeTitle",[t._v("推荐音乐")]),t._l(t.newSongList,(function(n,e){return s("track-songs",{key:e,attrs:{trackSongs:n,news:!0,currentSong:t.currentSong},on:{"translate-song":function(n){return t.$emit("translate-song",n)}}})}))],2)],1)},X=[],B=(s("fb6a"),s("2909")),F=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",{attrs:{id:"nav"}},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),s("li",[s("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),s("li",[s("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},Y=[],A={name:"HomeLink"},G=A,K=(s("0e67"),Object(w["a"])(G,F,Y,!1,null,"e526d084",null)),Q=K.exports,Z=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"box"},[s("p",[t._t("default")],2)])},V=[],tt={name:"HomeTitle"},nt=tt,st=(s("b639"),Object(w["a"])(nt,Z,V,!1,null,"3e56925e",null)),et=st.exports,at=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("li",{staticClass:"card",on:{click:function(n){return t.detailList(t.songList.id)}}},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.songList.picUrl,alt:""}}),s("span",[s("i",{staticClass:"fa fa-headphones"}),t._v(t._s(t.returnCount(t.songList.playCount)))])]),s("h5",[t._v(t._s(t.songList.name))])])},it=[],rt=(s("b680"),{name:"MusicList",props:{songList:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{returnCount:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":t},detailList:function(t){this.$router.push({path:"personalized",query:{id:t}})}}}),ot=rt,ct=(s("f33d"),Object(w["a"])(ot,at,it,!1,null,"dd42eb4a",null)),lt=ct.exports,ut={name:"Home",components:{HomeLink:Q,HomeTitle:et,MusicList:lt,TrackSongs:y},props:{currentSong:Object},data:function(){return{musicList:[],newSongList:[]}},methods:{getPersonalized:function(){var t=this;window.axios.get("/personalized").then((function(n){t.musicList=n.data.result,window.localStorage.setItem("personalized",JSON.stringify({expire:1*Date.now()*60*60*1e3,result:n.data.result}))})).catch((function(t){console.log(t)}))},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(n){t.newSongList=n.data.result,window.localStorage.setItem("newSongList",JSON.stringify({expire:Date.now()+432e5,result:t.newSongList}))})).catch((function(t){console.log(t)}))},showMusicList:function(){return Object(B["a"])(this.musicList).slice(0,6)}},created:function(){var t=JSON.parse(window.localStorage.getItem("personalized"));t&&t.expire>Date.now()?this.musicList=t.result:this.getPersonalized();var n=JSON.parse(window.localStorage.getItem("newSongList"));n&&n.expire>Date.now()?this.newSongList=n.result:this.getNewSong()}},gt=ut,dt=(s("e082"),Object(w["a"])(gt,R,X,!1,null,"b0931816",null)),ht=dt.exports,ft=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"hot"},[s("HomeLink"),s("div",{staticClass:"hot_bg"},[s("div",{staticClass:"hotCon"},[s("div",{staticClass:"hotIcon"}),s("div",{staticClass:"hotUpdate"},[t._v("更新日期:"+t._s(t.setUpdateTime()))])])]),s("ul",{staticClass:"hotSongCon"},t._l(t.hotSongList,(function(n,e){return s("track-songs",{key:e,attrs:{trackSongs:n,order:e,news:!1,currentSong:t.currentSong},on:{"translate-song":function(n){return t.$emit("translate-song",n)}}})})),1)],1)},mt=[],pt={name:"Hot",components:{HomeLink:Q,TrackSongs:y},props:{currentSong:Object},data:function(){return{hotSongList:[],updateTime:null}},methods:{getHotSong:function(){var t=this;this.axios.get("/top/list?idx=1").then((function(n){t.hotSongList=n.data.playlist.tracks,t.updateTime=n.data.playlist.updateTime,window.localStorage.setItem("hotRankingList",JSON.stringify({expire:24*Date.now()*60*60*1e3,result:Object(B["a"])(n.data.playlist.tracks).slice(0,20),updateTime:n.data.playlist.updateTime}))})).catch((function(t){console.log(t)}))},setUpdateTime:function(){var t=new Date(parseInt(this.updateTime)),n=t.getMonth()+1;n=n<10?"0"+n:n;var s=t.getDate();return s=s<10?"0"+s:s,n+"月"+s+"日"}},created:function(){var t=JSON.parse(window.localStorage.getItem("hotRankingList"));t&&t.expire>Date.now()?(this.hotSongList=t.result,this.updateTime=t.updateTime):this.getHotSong()}},vt=pt,St=(s("98b6"),Object(w["a"])(vt,ft,mt,!1,null,"0b553372",null)),wt=St.exports,Ct=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"search"},[s("HomeLink"),s("div",{staticClass:"searchBox"},[s("i",{staticClass:"fa fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:t.defaultText},domProps:{value:t.searchText},on:{input:function(n){n.target.composing||(t.searchText=n.target.value)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:""!=t.searchText.toString().trim(),expression:"searchText.toString().trim()!=''"}],staticClass:"fa fa-close",on:{click:function(n){t.searchText=""}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:""==t.searchText,expression:"searchText==''"}],staticClass:"hotSearch"},[s("p",[t._v("热门搜索")]),s("div",{staticClass:"hotSearchBox"},t._l(t.hotWordList,(function(n,e){return s("span",{key:e,staticClass:"hotWord",on:{click:function(s){return t.send(n.first)}}},[t._v(t._s(n.first))])})),0)]),s("SearchRes",{directives:[{name:"show",rawName:"v-show",value:t.searchText,expression:"searchText"}],attrs:{searchText:t.searchText,associate:t.associate},on:{getRes:function(n){t.searchText=n},"translate-song":function(n){t.selectSong=n}}})],1)},yt=[],_t=(s("25f0"),s("498a"),function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"searchRes"},[t.showDefault?s("div",{staticClass:"res",on:{click:function(n){return t.send(t.searchText)}}},[s("p",[t._v('搜索"'+t._s(t.searchText)+'"')]),s("ul",{staticClass:"associate"},t._l(t.associate,(function(n,e){return s("li",{key:e,on:{click:function(s){return t.send(n.keyword)}}},[s("i",{staticClass:"fa fa-search"}),t._v(t._s(n.keyword))])})),0)]):s("div",{staticClass:"data"},t._l(t.dataList,(function(n,e){return s("search-songs",{key:e,attrs:{searchSongs:n},on:{"translate-song":function(n){t.currentSong=n}}})})),1)])}),Lt=[],kt=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"searchSongs",on:{click:function(n){return t.getSearchSong(t.searchSongs)}}},[s("div",{staticClass:"main"},[s("h3",[s("span",[t._v(t._s(t.searchSongs.name))])]),s("div",{staticClass:"info"},[s("i",{staticClass:"icon icon-quality"}),s("span",[t._v(t._s(t.artistConnect(t.searchSongs.artists)))])])]),s("i",{staticClass:"icon icon-play"})])},xt=[],bt={name:"SearchSongs",props:{searchSongs:Object},methods:{artistConnect:function(t){return t.map((function(t){return t.name})).join(" / ")},getSearchSong:function(t){var n=this;window.axios.get("song/detail",{params:{ids:t.id}}).then((function(t){n.$emit("translate-song",t.data.songs[0])}))}}},Tt=bt,Dt=(s("0c6b"),Object(w["a"])(Tt,kt,xt,!1,null,"30d0361a",null)),Ot=Dt.exports,jt={name:"SearchRes",components:{SearchSongs:Ot},props:{searchText:String,associate:Array,state:Boolean},data:function(){return{showDefault:!0,dataList:[],currentSong:null}},methods:{send:function(t){var n=this;this.$emit("getRes",t),window.axios.get("search",{params:{keywords:t,type:1}}).then((function(t){t&&(n.showDefault=!1,n.dataList=t.data.result.songs)}))}},watch:{searchText:function(){this.showDefault=!0},currentSong:function(t){this.$emit("translate-song",t)}}},It=jt,$t=(s("2179"),Object(w["a"])(It,_t,Lt,!1,null,"6097ef76",null)),Pt=$t.exports,Nt={name:"Search",components:{HomeLink:Q,SearchRes:Pt},props:{currentSong:Object},data:function(){return{searchText:"",defaultText:"搜索歌曲...",hotWordList:[],associate:null,selectSong:null}},methods:{getSearchDefault:function(){var t=this;window.axios.get("search/default").then((function(n){t.defaultText=n.data.data.showKeyword}))},getSearchHot:function(){var t=this,n=JSON.parse(window.localStorage.getItem("searchHotWord"));n&&n.expire>Date.now()?this.hotWordList=n.result:window.axios.get("search/hot").then((function(n){t.hotWordList=n.data.result.hots,window.localStorage.setItem("searchHotWord",JSON.stringify({expire:Date.now()+216e5,result:n.data.result.hots}))}))},send:function(t){var n=this;window.axios.get("search",{params:{keywords:t,type:1}}).then((function(s){s&&(n.searchText=t,n.dataList=s.data.result.songs)}))}},created:function(){this.getSearchDefault(),this.getSearchHot()},watch:{searchText:function(t){var n=this;t.toString().trim()&&window.axios.get("search/suggest",{params:{keywords:t.toString().trim(),type:"mobile"}}).then((function(t){n.associate=t.data.result.allMatch})).catch((function(t){console.log(t)}))},selectSong:function(t){this.$emit("translate-song",t)}}},Ut=Nt,Mt=(s("ce54"),Object(w["a"])(Ut,Ct,yt,!1,null,"48887fa3",null)),Ht=Mt.exports,qt=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"playlist"},[t.songListDetail?[s("header",[s("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songListDetail.coverImgUrl+")"}}),s("div",{staticClass:"lt"},[s("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),s("span",{staticClass:"playCount"},[s("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.returnCount(t.songListDetail.playCount))+" ")]),s("span",{staticClass:"icon"},[t._v("歌单")])]),s("div",{staticClass:"rt"},[s("h3",[t._v(t._s(t.songListDetail.name))]),s("img",{attrs:{src:t.songListDetail.creator.avatarUrl,alt:""}}),s("span",[t._v(t._s(t.songListDetail.creator.nickname))])])]),s("main",[s("div",{staticClass:"tag"},[s("span",[t._v("标签：")]),t._l(t.songListDetail.tags,(function(n,e){return s("i",{key:e},[t._v(t._s(n))])}))],2),s("div",{staticClass:"abstract",class:{show:t.showMoreDesc}},[s("span",[t._v("简介：")]),s("span",[t._v(t._s(t.songListDetail.description))])]),s("div",{staticClass:"more",on:{click:function(n){t.showMoreDesc=!t.showMoreDesc}}},[t.showMoreDesc?s("i",{staticClass:"fa fa-angle-up"}):s("i",{staticClass:"fa fa-angle-down"})])]),s("h3",{staticClass:"allSongList"},[t._v("歌曲列表")]),t._l(t.trackSongList,(function(n,e){return s("track-songs",{key:e,attrs:{order:e,trackSongs:n,news:!1,currentSong:t.currentSong},on:{"translate-song":function(n){return t.$emit("translate-song",n)}}})}))]:t._e()],2)},Et=[],Jt={name:"Personalized",components:{TrackSongs:y},data:function(){return{songListId:this.$route.query.id,songListDetail:null,showMoreDesc:!1,trackSongList:[]}},props:{currentSong:Object},methods:{returnCount:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":t}},beforeRouteEnter:function(t,n,s){var e=JSON.parse(window.localStorage.getItem("sl-"+t.query.id));e&&e.expire>Date.now()?s((function(n){n.songListId=Number(t.query.id),n.songListDetail=e.result,n.trackSongList=e.tracks})):window.axios.get("playlist/detail",{params:{id:t.query.id}}).then((function(n){var e=n.data.playlist,a=n.data.playlist.tracks;window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:Date.now()+36e5,result:n.data.playlist,tracks:n.data.playlist.tracks})),s((function(n){n.songListId=Number(t.query.id),n.songListDetail=e,n.trackSongList=a}))})).catch((function(t){console.log(t)}))}},Wt=Jt,zt=(s("4b5e"),Object(w["a"])(Wt,qt,Et,!1,null,"d00b9110",null)),Rt=zt.exports;e["a"].use(z["a"]);var Xt=[{path:"/",name:"Home",component:ht},{path:"/hot",name:"Hot",component:wt},{path:"/search",name:"Search",component:Ht},{path:"/personalized",name:"Personalized",component:Rt}],Bt=new z["a"]({routes:Xt}),Ft=Bt;e["a"].config.productionTip=!1,new e["a"]({router:Ft,store:c,render:function(t){return t(W)}}).$mount("#app")},5759:function(t,n,s){},"6f74":function(t,n,s){"use strict";var e=s("80f8"),a=s.n(e);a.a},"7c55":function(t,n,s){"use strict";var e=s("2395"),a=s.n(e);a.a},"803f":function(t,n,s){t.exports=s.p+"img/playing.ab1993a5.svg"},"80f8":function(t,n,s){},"83af":function(t,n,s){},"95f4":function(t,n,s){},9753:function(t,n,s){},"98b6":function(t,n,s){"use strict";var e=s("95f4"),a=s.n(e);a.a},b639:function(t,n,s){"use strict";var e=s("4ce2"),a=s.n(e);a.a},b9a7:function(t,n,s){},c7c3:function(t,n,s){},ce54:function(t,n,s){"use strict";var e=s("83af"),a=s.n(e);a.a},d1b1:function(t,n,s){"use strict";var e=s("fade"),a=s.n(e);a.a},e082:function(t,n,s){"use strict";var e=s("5759"),a=s.n(e);a.a},eac3:function(t,n,s){},f13d:function(t,n,s){"use strict";var e=s("fbfc"),a=s.n(e);a.a},f33d:function(t,n,s){"use strict";var e=s("b9a7"),a=s.n(e);a.a},fade:function(t,n,s){},fbfc:function(t,n,s){}});
//# sourceMappingURL=app.716536cd.js.map